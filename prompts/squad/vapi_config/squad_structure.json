{
  "_description": "Squad structure configuration for VAPI dashboard. This defines the squad members and their relationships.",

  "squad": {
    "name": "Receptionist Pro Squad V3",
    "description": "13-agent caller-type-based receptionist system for personal injury law firms",

    "members": [
      {
        "assistant": "Greeter Classifier",
        "assistantId": "{{GREETER_ASSISTANT_ID}}",
        "role": "Entry point - classifies callers and routes to specialized agents",
        "isEntry": true,
        "destinations": [
          "Pre-Identified Client",
          "Existing Client",
          "Insurance Adjuster",
          "Medical Provider",
          "New Client",
          "Vendor",
          "Direct Staff Request",
          "Family Member",
          "Spanish Speaker",
          "Referral Source",
          "Legal System",
          "Sales Solicitation"
        ]
      },
      {
        "assistant": "Pre-Identified Client",
        "assistantId": "{{PRE_ID_CLIENT_ASSISTANT_ID}}",
        "role": "Handle phone-matched existing clients with pre-loaded case details",
        "isEntry": false,
        "destinations": []
      },
      {
        "assistant": "Existing Client",
        "assistantId": "{{EXISTING_CLIENT_ASSISTANT_ID}}",
        "role": "Handle non-pre-identified existing clients",
        "isEntry": false,
        "destinations": []
      },
      {
        "assistant": "Insurance Adjuster",
        "assistantId": "{{INSURANCE_ASSISTANT_ID}}",
        "role": "Handle insurance company representatives",
        "isEntry": false,
        "destinations": []
      },
      {
        "assistant": "Medical Provider",
        "assistantId": "{{MEDICAL_PROVIDER_ASSISTANT_ID}}",
        "role": "Handle hospitals, clinics, rehab centers (non-billing)",
        "isEntry": false,
        "destinations": []
      },
      {
        "assistant": "New Client",
        "assistantId": "{{NEW_CLIENT_ASSISTANT_ID}}",
        "role": "Handle potential new clients who had accidents",
        "isEntry": false,
        "destinations": []
      },
      {
        "assistant": "Vendor",
        "assistantId": "{{VENDOR_ASSISTANT_ID}}",
        "role": "Handle invoice and billing inquiries",
        "isEntry": false,
        "destinations": []
      },
      {
        "assistant": "Direct Staff Request",
        "assistantId": "{{STAFF_REQUEST_ASSISTANT_ID}}",
        "role": "Handle callers asking for specific staff by name",
        "isEntry": false,
        "destinations": []
      },
      {
        "assistant": "Family Member",
        "assistantId": "{{FAMILY_MEMBER_ASSISTANT_ID}}",
        "role": "Handle third-party callers about someone else's case",
        "isEntry": false,
        "destinations": []
      },
      {
        "assistant": "Spanish Speaker",
        "assistantId": "{{SPANISH_ASSISTANT_ID}}",
        "role": "Transfer wrapper for Spanish-speaking callers",
        "isEntry": false,
        "destinations": []
      },
      {
        "assistant": "Referral Source",
        "assistantId": "{{REFERRAL_ASSISTANT_ID}}",
        "role": "Handle referral fee inquiries",
        "isEntry": false,
        "destinations": []
      },
      {
        "assistant": "Legal System",
        "assistantId": "{{LEGAL_SYSTEM_ASSISTANT_ID}}",
        "role": "Handle court reporters, defense attorneys, court clerks",
        "isEntry": false,
        "destinations": []
      },
      {
        "assistant": "Sales Solicitation",
        "assistantId": "{{SALES_ASSISTANT_ID}}",
        "role": "Handle sales calls - message only, no transfers",
        "isEntry": false,
        "destinations": []
      }
    ],

    "membersOverrides": {
      "_description": "Override settings per member. Apply these in VAPI dashboard.",

      "Pre-Identified Client": {
        "contextEngineeringPlan": {
          "type": "all"
        }
      },
      "Existing Client": {
        "contextEngineeringPlan": {
          "type": "lastNMessages",
          "lastNMessages": 5
        }
      },
      "Insurance Adjuster": {
        "contextEngineeringPlan": {
          "type": "lastNMessages",
          "lastNMessages": 5
        }
      },
      "Medical Provider": {
        "contextEngineeringPlan": {
          "type": "lastNMessages",
          "lastNMessages": 5
        }
      },
      "New Client": {
        "contextEngineeringPlan": {
          "type": "lastNMessages",
          "lastNMessages": 5
        }
      },
      "Vendor": {
        "contextEngineeringPlan": {
          "type": "lastNMessages",
          "lastNMessages": 5
        }
      },
      "Direct Staff Request": {
        "contextEngineeringPlan": {
          "type": "lastNMessages",
          "lastNMessages": 5
        }
      },
      "Family Member": {
        "contextEngineeringPlan": {
          "type": "lastNMessages",
          "lastNMessages": 5
        }
      },
      "Spanish Speaker": {
        "contextEngineeringPlan": {
          "type": "lastNMessages",
          "lastNMessages": 3
        }
      },
      "Referral Source": {
        "contextEngineeringPlan": {
          "type": "lastNMessages",
          "lastNMessages": 5
        }
      },
      "Legal System": {
        "contextEngineeringPlan": {
          "type": "lastNMessages",
          "lastNMessages": 5
        }
      },
      "Sales Solicitation": {
        "contextEngineeringPlan": {
          "type": "lastNMessages",
          "lastNMessages": 3
        }
      }
    }
  },

  "setup_order": [
    "1. Create all 13 assistants in VAPI dashboard (copy prompts from assistants/ folder)",
    "2. Note down each assistant's ID",
    "3. Create the squad in VAPI dashboard",
    "4. Add Greeter Classifier as entry member (isEntry: true)",
    "5. Add all other assistants as squad members",
    "6. Configure handoff tool on Greeter with destinations to all 12 specialized agents",
    "7. Configure tools on each specialized agent (see agent_tools.json for assignments)",
    "8. Configure contextEngineeringPlan for each member (see membersOverrides above)",
    "9. Test with sample calls for each caller type"
  ]
}
