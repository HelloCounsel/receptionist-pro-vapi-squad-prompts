{# Extractor: Frustration Level - Rate caller frustration 0-3 #}

## Task
Rate the caller's frustration level from 0-3 based on their language and tone indicators.

## Frustration Scale

**0 - Calm/Normal:**
- Normal conversational tone
- No urgency indicators
- Patient with process

**1 - Mild Concern/Impatience:**
- Slight urgency: "I've been waiting"
- Mild impatience: "I called earlier"
- Concerned but cooperative

**2 - Frustrated:**
- "Haven't heard back"
- "Keep calling"
- "Been trying to reach"
- Audible sighing or exasperation
- Multiple callback attempts mentioned

**3 - Very Frustrated/Angry:**
- "This is ridiculous"
- "Been calling for weeks/month"
- Threatening language ("I'm going to...")
- Explicit anger ("I'm very upset")
- Demanding immediate escalation
- Mentions complaints or reviews

## Signals to Look For

**Time-based frustration:**
- "haven't heard back in weeks/month"
- "called multiple times"
- "been waiting for X days"
- "this is my third call"

**Process frustration:**
- "keep telling me they'll call"
- "no one ever returns my calls"
- "I was promised a callback"
- "this keeps happening"

**Emotional indicators:**
- Exclamation points in transcription
- Repeated phrases showing emphasis
- Interrupting the agent
- Short, curt responses

**Explicit statements:**
- "I'm frustrated"
- "This is unacceptable"
- "I need to speak to a supervisor"

## Conversation
{{ conversation }}

## Response Format
Return JSON:
```json
{
  "frustration_level": 0-3,
  "signals": ["list", "of", "detected", "signals"],
  "recommended_priority": "standard" | "high" | "urgent"
}
```

## Priority Mapping
- Level 0-1: standard
- Level 2: high
- Level 3: urgent

## Examples

Input: "Hi, I'm calling to check on my case status."
Output: {"frustration_level": 0, "signals": [], "recommended_priority": "standard"}

Input: "I called yesterday and was told someone would call me back."
Output: {"frustration_level": 1, "signals": ["called yesterday", "promised callback"], "recommended_priority": "standard"}

Input: "I've been trying to reach my case manager for two weeks. No one returns my calls."
Output: {"frustration_level": 2, "signals": ["two weeks", "no one returns calls", "trying to reach"], "recommended_priority": "high"}

Input: "This is ridiculous! I've been calling for a month and no one ever calls me back. I need to speak to someone NOW."
Output: {"frustration_level": 3, "signals": ["this is ridiculous", "calling for a month", "no one calls back", "demanding immediate action"], "recommended_priority": "urgent"}
